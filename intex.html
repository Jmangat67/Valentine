<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Check me out ‚ù§Ô∏è</title>

  <style>
    :root{
      --bg1:#ffe0ec;
      --bg2:#fff6fb;
      --card:rgba(255,255,255,.92);
      --text:#5b1b3a;
      --pink:#ff5fa2;
      --pink2:#ff7fb6;
      --roseRed:#e11d48;
    }
    *{ box-sizing:border-box; }

    body{
      margin:0;
      height:100vh;
      overflow:hidden;
      display:grid;
      place-items:center;
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      font-family: system-ui, -apple-system, Arial;
      color:var(--text);
    }

    /* ROSE RAIN LAYER */
    #roseRain{
      position:fixed;
      inset:0;
      pointer-events:none;
      display:none;
    }
    .rose{
      position:absolute;
      top:-40px;
      width:18px;
      height:18px;
      background:var(--roseRed);
      border-radius:4px;
      box-shadow:0 10px 18px rgba(0,0,0,.15);
      opacity:.95;
      animation: roseFall linear forwards;
    }
    .rose::after{
      content:"";
      position:absolute;
      inset:3px 4px 7px 4px;
      background:rgba(255,255,255,.22);
      border-radius:3px;
      transform: rotate(18deg);
    }
    @keyframes roseFall{
      to{
        transform: translateY(120vh) translateX(var(--drift)) rotate(var(--rot));
        opacity:1;
      }
    }

    /* CARD */
    .card{
      width:min(520px,92vw);
      background:var(--card);
      border:1px solid rgba(255,95,162,.18);
      border-radius:24px;
      padding:26px 22px;
      box-shadow:0 18px 45px rgba(0,0,0,.16);
      backdrop-filter: blur(6px);
      text-align:center;
      position:relative;
      animation: pop .45s ease;
    }
    @keyframes pop{
      from{ transform: translateY(10px) scale(.98); opacity:0 }
      to{ transform: translateY(0) scale(1); opacity:1 }
    }

    /* Character holding board */
    .character{
      display:grid;
      place-items:center;
      gap:10px;
      margin-bottom:14px;
    }
    .head{
      font-size:54px;
      animation: bob 2.2s ease-in-out infinite;
      filter: drop-shadow(0 10px 12px rgba(0,0,0,.12));
    }
    @keyframes bob{
      0%,100%{ transform: translateY(2px); }
      50%{ transform: translateY(-2px); }
    }

    .board{
      width:min(420px,86vw);
      background:#fff;
      border:2px solid rgba(255,95,162,.25);
      border-radius:18px;
      padding:16px;
      box-shadow:0 12px 26px rgba(0,0,0,.10);
      position:relative;
    }
    .board:before,.board:after{
      content:"";
      position:absolute;
      width:26px;height:26px;
      border-radius:50%;
      background:rgba(255,95,162,.22);
      top:50%;
      transform:translateY(-50%);
    }
    .board:before{ left:-10px; }
    .board:after{ right:-10px; }

    .arms{
      margin-top:10px;
      display:flex;
      justify-content:space-between;
      font-size:24px;
      opacity:.92;
    }

    .msg{
      font-size:18px;
      line-height:1.35;
      margin:0;
      white-space: pre-line; /* enables \n line breaks */
      padding:0 6px;
    }

    .btns{
      display:flex;
      justify-content:center;
      gap:12px;
      margin-top:16px;
      flex-wrap:wrap;
    }
    button{
      border:0;
      border-radius:14px;
      padding:12px 18px;
      font-size:16px;
      cursor:pointer;
      transition:.12s;
      user-select:none;
    }
    button:hover{ transform:translateY(-1px) scale(1.02); }
    button:active{ transform:translateY(1px) scale(.98); }

    .next{
      background:linear-gradient(135deg,var(--pink),var(--pink2));
      color:#fff;
      box-shadow:0 12px 26px rgba(255,95,162,.35);
    }
    .yes{
      background:#ff2f6f;
      color:#fff;
      box-shadow:0 12px 26px rgba(255,47,111,.30);
    }
    .no{
      background:#ffe3ef;
      color:#b63c73;
      border:1px solid rgba(182,60,115,.18);
    }

    .note{
      font-size:13px;
      opacity:.7;
      margin-top:8px;
      min-height:18px;
    }
    .tiny{
      font-size:13px;
      opacity:.6;
      margin-top:10px;
    }
  </style>
</head>

<body>
  <div id="roseRain"></div>

  <div class="card" id="card">
    <div class="character">
      <div class="head" id="face">ü•∞</div>

      <div class="board">
        <p class="msg" id="msg">hii‚Ä¶</p>
        <div class="arms"><span>ü´∂</span><span>ü´∂</span></div>
      </div>
    </div>

    <div class="btns" id="btns"></div>
    <div class="note" id="note"></div>
    <div class="tiny" id="tiny">Made it just for you üíï</div>
  </div>

  <script>
    const poemLines = [
      "Khid-Khid hasdi, nazar lag jau, Khush enni renhni‚Äôan, koi gammi labb de",
      "Shakl‚Äôon, dil,on tu inna saaf surat‚Äôae hai, Ve mainu koi ta tere te jatta kami labb de",
      "Jiwein tu sajji nu, sanjonda rehna hai, Jiwein tu khiji nu, khijonda rehna hai" ,
      "Mere te, geet‚Äôan nu, banaoda rehna hai, Mere te likhe hoeya, sunoda hai",
      "Mangata tere te mar Jaan-an, Mere te banona tarja-an",
      "Pata mainu dedenga tu jaan-an, Mainu tera nal pyar jatta ta",
    ];

    function chunkToSteps(lines, n){
      const out = [];
      for(let i=0;i<lines.length;i+=n){
        out.push({ text: lines.slice(i, i+n).join("\n") });
      }
      return out;
    }

    const steps = [
      { text:"Hi Gurkirat" },
      { text:"I really love spending time with you and talking to you" },
      { text:"I'm really lucky to have you in my life" },

      ...chunkToSteps(poemLines, 3),

      { text:"Will you be my valentine? üíò", ask:true }
    ];

    let idx = 0;

    function render(){
      msg.textContent = steps[idx].text;
      note.textContent = "";

      if(steps[idx].ask){
        btns.innerHTML = `
          <button class="yes" onclick="yes()">yes üíó</button>
          <button class="no" onclick="nope()">no üòî</button>
        `;
      } else {
        btns.innerHTML = `<button class="next" onclick="next()">next ‚ûú</button>`;
      }

      // pop animation
      card.style.animation = "none";
      card.offsetHeight;
      card.style.animation = "pop .45s ease";
    }

    function next(){
      idx = Math.min(idx + 1, steps.length - 1);
      render();
    }

    function nope(){
      const replies = [
        "Nice try üòÑ but try again",
        "Can you not choose this please üòî",
        "That option is currently unavailable",
        "System is saying: choose yes please"
      ];
      note.textContent = replies[Math.floor(Math.random()*replies.length)];
    }

    function yes(){
      msg.textContent = "yay!!! I LOVE YOU ‚ù§Ô∏è";
      btns.innerHTML = "";
      face.textContent = "üòç";
      tiny.textContent = "Happy Valentine‚Äôs üåπ";
      startRoseRain();
    }

    // Red rose rain
    function startRoseRain(){
      roseRain.style.display = "block";
      let ticks = 0;
      const interval = setInterval(() => {
        for(let i=0;i<16;i++) spawnRose();
        ticks++;
        if(ticks > 16) clearInterval(interval); // ~8 seconds
      }, 500);
    }

    function spawnRose(){
      const r = document.createElement("div");
      r.className = "rose";

      const left = Math.random()*100;
      const dur  = 4 + Math.random()*3.5;

      r.style.left = left + "vw";
      r.style.animationDuration = dur + "s";
      r.style.setProperty("--drift", (Math.random()*240-120) + "px");
      r.style.setProperty("--rot",   (Math.random()*320-160) + "deg");

      const size = 14 + Math.random()*14;
      r.style.width = size + "px";
      r.style.height = size + "px";
      r.style.borderRadius = (3 + Math.random()*5).toFixed(0) + "px";

      roseRain.appendChild(r);
      setTimeout(() => r.remove(), dur*1000);
    }

    render();
  </script>
</body>
</html>
